<!DOCTYPE html>
<html>
  <head><meta charset="UTF-8"><title>Tova Chat</title></head>
  <body>
    <script>
      // H√†m ƒë∆∞·ª£c g·ªçi t·ª´ Flutter ƒë·ªÉ truy·ªÅn d·ªØ li·ªáu
      function initTova(userId, name) {
        console.log("üöÄ initTova called", userId, name);
        tova.init({
          tenant_id: "01JNJVV5TX8QX5R521SDAA8SAW",
          bot_code: "01JWZPK62975PSACJ3GTDPADCS",
          ui_config: {
            position: "right",
            hide_greeting: false
          },
          extra: {
            user_id: userId,
            name: name
          }
        });

        // ‚úÖ T·ª± ƒë·ªông m·ªü khung chat sau khi init
        setTimeout(() => {
          console.log("‚úÖ tova.show() auto-triggered");
          tova.show();
        }, 200); // Delay nh·∫π ƒë·ªÉ ch·∫Øc ch·∫Øn SDK ƒë√£ ready
      }

      // T·∫£i SDK
      window.tovaAsyncInit = function () {
        console.log("‚úÖ Tova SDK loaded");
        // Optional: g·ªçi initTova lu√¥n ·ªü ƒë√¢y n·∫øu b·∫°n mu·ªën auto
        // initTova('user_id', 'name'); 
      };

      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "https://agents.fpt.ai/connect/sdk.js";
        js.onload = window.tovaAsyncInit;
        fjs.parentNode.insertBefore(js, fjs);
      }(document, "script", "tova-jssdk"));
    </script>
  </body>
</html>
